<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infograf√≠a: Entrenamiento Ciclista Personalizado con VFC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Application Structure Plan: 
        1. Hero: T√≠tulo atractivo y promesa central.
        2. Problema: Limitaciones del entrenamiento gen√©rico (Diagrama simple HTML/CSS).
        3. Soluci√≥n VFC: Explicaci√≥n de la VFC y su medici√≥n (Texto + Gr√°fico conceptual VFC diaria con Chart.js).
        4. Metodolog√≠a: C√≥mo se usa la VFC en el entrenamiento (Diagrama de flujo HTML/CSS + Gr√°fico comparativo con Chart.js).
        5. Beneficios: Destacados en tarjetas visuales (HTML/CSS + Iconos Unicode).
        6. Servicios: Lista clara de lo que se ofrece (HTML/CSS).
        7. Consejos VFC (NUEVO): Generador de consejos de entrenamiento/recuperaci√≥n con LLM.
        8. CTA: Llamada a la acci√≥n e informaci√≥n de contacto.
        Este flujo narrativo est√° dise√±ado para guiar al usuario desde la identificaci√≥n de un problema com√∫n hasta la comprensi√≥n de una soluci√≥n espec√≠fica y sus ventajas, culminando en una oferta clara. Se prioriza la facilidad de comprensi√≥n y el engagement visual.
    -->
    <!-- Visualization & Content Choices:
        - Diagrama "Ciclo de Frustraci√≥n" (HTML/CSS): Goal: Organizar/Informar. Muestra problema. HTML/CSS. NO SVG.
        - Iconos VFC (Unicode): Goal: Informar. Ilustra aspectos de la VFC. Unicode. NO SVG.
        - Gr√°fico "VFC Diaria" (Chart.js Line): Goal: Cambiar/Informar. Muestra variabilidad. Canvas. NO SVG.
        - Diagrama "Ciclo Adaptativo VFC" (HTML/CSS): Goal: Organizar/Informar. Explica proceso. HTML/CSS. NO SVG.
        - Gr√°fico "Comparativa Plan Gen√©rico vs VFC" (Chart.js Bar): Goal: Comparar. Destaca beneficios. Canvas. NO SVG.
        - Tarjetas de Beneficios (HTML/CSS + Unicode): Goal: Informar. Resalta ventajas. HTML/CSS + Unicode. NO SVG.
        - Lista de Servicios (HTML/CSS): Goal: Informar. Detalla oferta. HTML/CSS. NO SVG.
        - Generador de Consejos (LLM): Goal: Informar/Personalizar. Proporciona consejos din√°micos. Gemini API.
    -->
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #FFFFFF; /* Background */
            color: #333333; /* Neutral Dark */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height, can be overridden by Tailwind */
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .section-title {
            font-size: 2rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            color: #00A0B0; /* Secondary - Deep Teal */
            margin-bottom: 1.5rem; /* mb-6 */
            text-align: center;
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #FF6F61; /* Primary - Vibrant Coral */
            margin-bottom: 1rem; /* mb-4 */
        }
        .card {
            background-color: #F5F5F5; /* Neutral Light */
            border-radius: 0.75rem; /* rounded-xl */
            padding: 1.5rem; /* p-6 */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.07), 0 4px 6px -2px rgba(0,0,0,0.05); /* shadow-lg */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
        }
        .btn-primary {
            background-color: #FF6F61; /* Primary - Vibrant Coral */
            color: #FFFFFF;
            padding: 0.75rem 2rem; /* py-3 px-8 */
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: inline-block;
            text-align: center;
        }
        .btn-primary:hover {
            background-color: #E65A50; /* Darker Coral */
            transform: scale(1.05);
        }
        .flow-step {
            background-color: #E0F7FA; /* Light Teal */
            color: #00796B; /* Darker Teal text */
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            border: 1px solid #B2EBF2; /* Lighter Teal border */
        }
        .flow-arrow {
            font-size: 2rem;
            color: #00A0B0; /* Secondary - Deep Teal */
            align-self: center;
            margin: 0.5rem 0;
        }
        .benefit-icon {
            font-size: 2.5rem;
            color: #FFC300; /* Accent - Bright Yellow */
            margin-bottom: 0.5rem;
            display: block;
        }
    </style>
</head>
<body class="leading-relaxed">

    <section class="bg-gradient-to-br from-[#FF6F61] to-[#FF8C7A] text-white py-16 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto text-center">
            <h1 class="text-4xl sm:text-5xl font-bold mb-6">¬°Revoluciona Tu Ciclismo con Entrenamiento Basado en VFC!</h1>
            <p class="text-xl sm:text-2xl mb-8 max-w-3xl mx-auto">
                Descubre c√≥mo la Variabilidad de Frecuencia Card√≠aca (VFC) personaliza tu camino hacia el m√°ximo rendimiento y bienestar.
            </p>
            <a href="#contacto-final" class="btn-primary text-lg shadow-xl">Quiero Saber M√°s</a>
        </div>
    </section>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">

        <section id="problema" class="my-12">
            <h2 class="section-title">¬øPlanes Gen√©ricos? ¬°Tu Cuerpo Merece M√°s!</h2>
            <p class="text-center text-lg text-[#777777] mb-10 max-w-2xl mx-auto">
                Los entrenamientos est√°ndar no consideran tus fluctuaciones diarias. Estr√©s, sue√±o, recuperaci√≥n... todo afecta. Seguir un plan r√≠gido puede llevarte al estancamiento o, peor, a lesiones.
            </p>
            <div class="card md:w-3/4 mx-auto">
                <h3 class="subsection-title text-center">El Ciclo de Frustraci√≥n del Plan Gen√©rico</h3>
                <div class="flex flex-col md:flex-row justify-around items-center space-y-4 md:space-y-0 md:space-x-4 p-4">
                    <div class="flow-step w-full md:w-auto">Plan R√≠gido</div>
                    <div class="flow-arrow md:rotate-0 rotate-90">&rarr;</div>
                    <div class="flow-step w-full md:w-auto">Ignora Se√±ales Corporales</div>
                    <div class="flow-arrow md:rotate-0 rotate-90">&rarr;</div>
                    <div class="flow-step w-full md:w-auto">Riesgo (Lesi√≥n/Fatiga)</div>
                    <div class="flow-arrow md:rotate-0 rotate-90">&rarr;</div>
                    <div class="flow-step w-full md:w-auto">Estancamiento</div>
                </div>
                <p class="text-sm text-center mt-6 text-[#777777]">Rompe este ciclo con un enfoque verdaderamente personalizado.</p>
            </div>
        </section>

        <section id="solucion-vfc" class="my-16 py-12 bg-[#F5F5F5] rounded-xl">
            <h2 class="section-title">La Clave Est√° en Tu Coraz√≥n: Entendiendo la VFC</h2>
            <p class="text-center text-lg text-[#777777] mb-10 max-w-2xl mx-auto">
                La Variabilidad de Frecuencia Card√≠aca (VFC) es tu ventana personal al estado de tu cuerpo. No es solo cu√°nto late tu coraz√≥n, sino c√≥mo var√≠a el tiempo entre cada latido.
            </p>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="px-4">
                    <h3 class="subsection-title">¬øQu√© Mide la VFC?</h3>
                    <ul class="space-y-3 text-lg">
                        <li class="flex items-start"><span class="text-[#FF6F61] mr-2 text-2xl">üíì</span> Equilibrio del Sistema Nervioso Aut√≥nomo.</li>
                        <li class="flex items-start"><span class="text-[#FF6F61] mr-2 text-2xl">üßò</span> Capacidad de Recuperaci√≥n.</li>
                        <li class="flex items-start"><span class="text-[#FF6F61] mr-2 text-2xl">‚ö°</span> Niveles de Estr√©s Fisiol√≥gico.</li>
                        <li class="flex items-start"><span class="text-[#FF6F61] mr-2 text-2xl">üö¥</span> Disposici√≥n para Entrenar.</li>
                    </ul>
                    <p class="mt-6 text-[#777777]">Medir tu VFC diariamente nos da informaci√≥n precisa para ajustar tu entrenamiento.</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title text-center">Tu VFC Diaria: Un Indicador Din√°mico</h3>
                    <div class="chart-container h-64 sm:h-72">
                        <canvas id="vfcDiariaChart"></canvas>
                    </div>
                    <p class="text-sm text-center mt-4 text-[#777777]">Tu VFC fluct√∫a, reflejando c√≥mo tu cuerpo se adapta. Entender estas variaciones es clave.</p>
                </div>
            </div>
        </section>

        <section id="metodologia" class="my-16">
            <h2 class="section-title">Mi Enfoque: Entrenamiento Inteligente, Resultados Reales</h2>
            <p class="text-center text-lg text-[#777777] mb-10 max-w-2xl mx-auto">
                Utilizo la ciencia de la VFC para crear un plan din√°mico. Tus mediciones diarias gu√≠an cada paso, asegurando que entrenes de la forma m√°s efectiva y segura posible.
            </p>
            <div class="grid md:grid-cols-2 gap-12 items-start">
                <div class="card">
                    <h3 class="subsection-title text-center">Ciclo de Entrenamiento Adaptativo con VFC</h3>
                    <div class="space-y-3">
                        <div class="flow-step">1. Medir VFC Matutina</div>
                        <div class="flow-arrow text-center">&darr;</div>
                        <div class="flow-step">2. Analizar Datos y Disposici√≥n</div>
                        <div class="flow-arrow text-center">&darr;</div>
                        <div class="flow-step">3. Personalizar Sesi√≥n del D√≠a</div>
                        <div class="flow-arrow text-center">&darr;</div>
                        <div class="flow-step">4. Entrenar con Prop√≥sito</div>
                        <div class="flow-arrow text-center">&darr;</div>
                        <div class="flow-step">5. Optimizar Recuperaci√≥n</div>
                    </div>
                     <p class="text-sm text-center mt-6 text-[#777777]">Un ciclo continuo de adaptaci√≥n y mejora.</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title text-center">Impacto: Plan Gen√©rico vs. Plan VFC</h3>
                    <div class="chart-container h-80 sm:h-96">
                        <canvas id="comparativaPlanChart"></canvas>
                    </div>
                    <p class="text-sm text-center mt-4 text-[#777777]">Un plan adaptado a tu VFC optimiza tu progreso y minimiza riesgos.</p>
                </div>
            </div>
        </section>

        <section id="beneficios" class="my-16 py-12 bg-gradient-to-r from-[#00A0B0] to-[#007C8A] text-white rounded-xl">
            <h2 class="section-title !text-white">Pedalea Hacia Tus Metas: Beneficios Comprobados</h2>
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 px-4">
                <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üéØ</span>
                    <h3 class="text-xl font-semibold mb-2">Individualizaci√≥n Total</h3>
                    <p class="text-sm">Entrenamientos que realmente se ajustan a ti, d√≠a a d√≠a.</p>
                </div>
                <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üìà</span>
                    <h3 class="text-xl font-semibold mb-2">Optimizaci√≥n de Carga</h3>
                    <p class="text-sm">Ni mucho, ni poco. Justo lo que necesitas para progresar.</p>
                </div>
                <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üõ°Ô∏è</span>
                    <h3 class="text-xl font-semibold mb-2">Prevenci√≥n de Lesiones</h3>
                    <p class="text-sm">Reduce el riesgo escuchando las se√±ales tempranas de tu cuerpo.</p>
                </div>
                <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üí™</span>
                    <h3 class="text-xl font-semibold mb-2">Mejor Recuperaci√≥n</h3>
                    <p class="text-sm">Aprende a recuperarte mejor para rendir m√°s y de forma consistente.</p>
                </div>
                <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üöÄ</span>
                    <h3 class="text-xl font-semibold mb-2">Adaptaci√≥n Superior</h3>
                    <p class="text-sm">Tu cuerpo se adapta m√°s eficientemente a los est√≠mulos correctos.</p>
                </div>
                 <div class="bg-white/20 p-6 rounded-lg text-center backdrop-blur-sm">
                    <span class="benefit-icon">üß†</span>
                    <h3 class="text-xl font-semibold mb-2">Mayor Conciencia</h3>
                    <p class="text-sm">Conoce tu cuerpo como nunca antes y toma decisiones informadas.</p>
                </div>
            </div>
        </section>

        <section id="servicios" class="my-16">
            <h2 class="section-title">Tu Paquete Completo Hacia el √âxito</h2>
            <p class="text-center text-lg text-[#777777] mb-10 max-w-2xl mx-auto">
                Te ofrezco un servicio integral para que solo te preocupes de pedalear y disfrutar del proceso.
            </p>
            <div class="grid md:grid-cols-2 gap-6 max-w-3xl mx-auto">
                <div class="card !bg-white border-l-4 border-[#FF6F61]">
                    <h4 class="font-semibold text-lg text-[#FF6F61] mb-1">Planificaci√≥n Diaria Personalizada</h4>
                    <p class="text-sm text-[#777777]">Entrenamiento espec√≠fico cada d√≠a, ajustado a tu VFC y calendario.</p>
                </div>
                <div class="card !bg-white border-l-4 border-[#00A0B0]">
                    <h4 class="font-semibold text-lg text-[#00A0B0] mb-1">Evaluaci√≥n Inicial Detallada</h4>
                    <p class="text-sm text-[#777777]">Para conocer tus objetivos, historial y punto de partida.</p>
                </div>
                <div class="card !bg-white border-l-4 border-[#FFC300]">
                    <h4 class="font-semibold text-lg text-[#FFC300] mb-1">Protocolo VFC Claro y Sencillo</h4>
                    <p class="text-sm text-[#777777]">Te guiar√© para que midas tu VFC de forma precisa.</p>
                </div>
                <div class="card !bg-white border-l-4 border-[#FF6F61]">
                    <h4 class="font-semibold text-lg text-[#FF6F61] mb-1">An√°lisis Constante de Datos</h4>
                    <p class="text-sm text-[#777777]">Interpretamos tu VFC y datos de entrenamiento para optimizar.</p>
                </div>
                <div class="card !bg-white border-l-4 border-[#00A0B0]">
                    <h4 class="font-semibold text-lg text-[#00A0B0] mb-1">Seguimiento y Feedback Continuo</h4>
                    <p class="text-sm text-[#777777]">Comunicaci√≥n constante para resolver dudas y ajustar el plan.</p>
                </div>
                <div class="card !bg-white border-l-4 border-[#FFC300]">
                    <h4 class="font-semibold text-lg text-[#FFC300] mb-1">Asesoramiento Integral</h4>
                    <p class="text-sm text-[#777777]">Sobre nutrici√≥n, recuperaci√≥n, t√©cnica y estrategia.</p>
                </div>
            </div>
        </section>

        <section id="consejos-vfc" class="my-16 py-12 bg-[#F5F5F5] rounded-xl">
            <h2 class="section-title">‚ú® Consejos del D√≠a con VFC ‚ú®</h2>
            <p class="text-center text-lg text-[#777777] mb-10 max-w-2xl mx-auto">
                Simula tu estado de VFC y recibe un consejo de entrenamiento o recuperaci√≥n personalizado, generado por IA.
            </p>
            <div class="card max-w-xl mx-auto p-6">
                <h3 class="subsection-title text-center">¬øCu√°l es tu VFC hoy?</h3>
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                    <select id="hrvStateSelect" class="block w-full sm:w-auto px-4 py-2 border border-[#777777] rounded-md bg-white text-[#333333] focus:outline-none focus:ring-[#FF6F61] focus:border-[#FF6F61]">
                        <option value="optima">VFC √ìptima</option>
                        <option value="normal">VFC Normal</option>
                        <option value="baja">VFC Baja</option>
                    </select>
                    <button id="generateTipBtn" class="btn-primary w-full sm:w-auto">
                        ‚ú® Generar Consejo ‚ú®
                    </button>
                </div>
                <div id="tipResult" class="mt-6 p-4 bg-white rounded-md border border-[#00A0B0] text-[#333333] text-center min-h-[60px] flex items-center justify-center">
                    <p class="text-lg text-[#777777]">Tu consejo aparecer√° aqu√≠.</p>
                </div>
            </div>
        </section>

        <section id="contacto-final" class="my-16 py-16 bg-[#333333] text-white rounded-xl">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl sm:text-4xl font-bold mb-6 text-[#FFC300]">¬°Transforma Tu Entrenamiento Hoy Mismo!</h2>
                <p class="text-lg sm:text-xl mb-8 max-w-2xl mx-auto">
                    Si est√°s listo para dejar de adivinar y empezar a entrenar de forma verdaderamente inteligente y personalizada, cont√°ctame.
                </p>
                <a href="https://wa.me/34644373734?text=Hola%2C%20estoy%20interesado%20en%20el%20entrenamiento%20ciclista%20con%20VFC." class="btn-primary text-lg shadow-xl mb-6" target="_blank" rel="noopener noreferrer">Env√≠ame un mensaje por WhatsApp</a>
                <div class="mt-8 text-lg">
                    <p class="font-semibold">Pablo Ruiz</p>
                    
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-[#F5F5F5] text-[#777777] py-8 text-center">
        <p>&copy; <span id="currentYear"></span> Entrenamiento Ciclista VFC. Todos los derechos reservados.</p>
        <p class="text-xs">Infograf√≠a dise√±ada para ilustrar los beneficios del entrenamiento personalizado.</p>
    </footer>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const primaryColor = '#FF6F61';
        const secondaryColor = '#00A0B0';
        const accentColor = '#FFC300';
        const neutralDark = '#333333';
        const neutralMedium = '#777777';

        function processLabels(labels) {
            return labels.map(label => {
                if (typeof label === 'string' && label.length > 16) {
                    const words = label.split(' ');
                    const newLabel = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + word).length > 16 && currentLine.length > 0) {
                            newLabel.push(currentLine.trim());
                            currentLine = word + ' ';
                        } else {
                            currentLine += word + ' ';
                        }
                    });
                    newLabel.push(currentLine.trim());
                    return newLabel;
                }
                return label;
            });
        }
        
        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            } else {
                              return label;
                            }
                        }
                    }
                },
                legend: {
                    labels: {
                        color: neutralDark,
                        font: { size: 12 }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { color: neutralMedium, font: { size: 10 } },
                    grid: { color: '#E0E0E0' }
                },
                x: {
                    ticks: { color: neutralMedium, font: { size: 10 } },
                    grid: { display: false }
                }
            }
        };

        // VFC Diaria Chart (Line)
        const vfcDiariaCtx = document.getElementById('vfcDiariaChart').getContext('2d');
        new Chart(vfcDiariaCtx, {
            type: 'line',
            data: {
                labels: processLabels(['Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado', 'Domingo']),
                datasets: [{
                    label: 'Nivel VFC (Conceptual)',
                    data: [65, 75, 55, 70, 80, 60, 72], // Datos ilustrativos
                    borderColor: primaryColor,
                    backgroundColor: primaryColor + '33', // Primary con alpha
                    fill: true,
                    tension: 0.4,
                    pointRadius: 4,
                    pointBackgroundColor: primaryColor,
                }]
            },
            options: {
                ...commonChartOptions,
                scales: {
                     ...commonChartOptions.scales,
                     y: { ...commonChartOptions.scales.y, title: { display: true, text: 'Nivel VFC (ms)', color: neutralMedium, font: {size: 10 } } }
                }
            }
        });

        // Comparativa Plan Chart (Bar)
        const comparativaPlanCtx = document.getElementById('comparativaPlanChart').getContext('2d');
        new Chart(comparativaPlanCtx, {
            type: 'bar',
            data: {
                labels: processLabels(['Progresi√≥n √ìptima', 'Riesgo de Lesi√≥n', 'Motivaci√≥n Constante']),
                datasets: [
                    {
                        label: 'Plan Gen√©rico',
                        data: [60, 70, 50], // Datos ilustrativos
                        backgroundColor: neutralMedium + 'AA',
                        borderColor: neutralMedium,
                        borderWidth: 1
                    },
                    {
                        label: 'Plan Guiado por VFC',
                        data: [90, 30, 85], // Datos ilustrativos
                        backgroundColor: secondaryColor + 'AA',
                        borderColor: secondaryColor,
                        borderWidth: 1
                    }
                ]
            },
            options: {
                ...commonChartOptions,
                scales: {
                    ...commonChartOptions.scales,
                    y: { ...commonChartOptions.scales.y, title: { display: true, text: 'Resultado / Nivel (Conceptual)', color: neutralMedium, font: {size: 10 } }, max: 100 }
                }
            }
        });

        // Gemini API Integration for Training Tips
        const hrvStateSelect = document.getElementById('hrvStateSelect');
        const generateTipBtn = document.getElementById('generateTipBtn');
        const tipResult = document.getElementById('tipResult');

        generateTipBtn.addEventListener('click', async () => {
            const hrvState = hrvStateSelect.value;
            let prompt = '';

            switch (hrvState) {
                case 'optima':
                    prompt = 'Genera un consejo de entrenamiento ciclista breve y motivador para un d√≠a con VFC √≥ptima, enfocado en aprovechar la buena recuperaci√≥n. M√°ximo 2 frases.';
                    break;
                case 'normal':
                    prompt = 'Genera un consejo de entrenamiento ciclista breve y equilibrado para un d√≠a con VFC normal, sugiriendo un enfoque moderado. M√°ximo 2 frases.';
                    break;
                case 'baja':
                    prompt = 'Genera un consejo de recuperaci√≥n o entrenamiento ligero para un ciclista con VFC baja, enfatizando la importancia del descanso y la escucha corporal. M√°ximo 2 frases.';
                    break;
            }

            tipResult.innerHTML = '<p class="text-lg text-[#777777]">Generando consejo... ‚ú®</p>';
            generateTipBtn.disabled = true;

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    tipResult.innerHTML = `<p class="text-lg text-[#333333]">${text}</p>`;
                } else {
                    tipResult.innerHTML = '<p class="text-lg text-[#FF6F61]">Error: No se pudo generar el consejo. Intenta de nuevo.</p>';
                }
            } catch (error) {
                console.error('Error al llamar a la API de Gemini:', error);
                tipResult.innerHTML = '<p class="text-lg text-[#FF6F61]">Error de conexi√≥n. Aseg√∫rate de estar en l√≠nea.</p>';
            } finally {
                generateTipBtn.disabled = false;
            }
        });
    </script>
</body>
</html>